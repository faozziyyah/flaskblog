{% extends 'base.html' %}

{% block title %}
<title>Todo App</title>
{% endblock %}

{% block home_active %}
class="active"
{% endblock %}

{% block content %}
  
  <section class="container-fluid">
    
    <div class="background row">
      
      <div class="todoheader row mb-12">
        
        <div class="todoheading" id="first">
           <div class="image"></div>
           <h1>todo</h1>
        </div>
        
      </div>
      
    </div>

    <aside>

      <form class="second" action="{{ url_for('add')}}" method="POST">
        <input type="number" class="number" id="id" name="id" placeholder="number">
        <input type="text" name="title" class="todo" id="title" placeholder="Create a new todo..."/>
        <button type="submit" class="addBtn add">ADD</button>
      </form>
        
        <div class="todolist">
          
          <table class="table">
            <thead id="thead">
                <tr class="th">
                    <th>S/N</th>
                    <th>Todo Name</th>
                    <th class="action">Action</th>
                </tr> 
            </thead> 
            <tbody>
              {% for todo in todos %}
                <tr>
                    <td class="word-word td">{{ todo[0] }}</td>
                    <td class="word-meaning td" id="todo_name">{{ todo[1] }}</td>

                    <td id="buttons">
                      {% if todo.2 == False %}

                      <a class="nav-link edit" href="/update/{{ todo[0] }}" data-toggle="tooltip" >
                        <button class="btn-sm btn-warning btn-block" id="ncomplete">Not completed <i class="bi bi-x-circle-fill"></i> </button>
                        <button class="btn-sm btn-warning btn-block" id="bi-delete"> <i class="bi bi-x-circle-fill"></i></button>
                      </a>
                      
                      {%else %}

                      <a href="/" class="nav-link" >
                        <button class="btn btn-success btn-sm" id="complete">completed <i class="bi bi-check-circle-fill"></i></button>
                        <button class="btn-sm btn-success btn-block" id="bi-delete"> <i class="bi bi-check-circle-fill"></i></button>
                      </a>

                      {% endif %}
                      
                      <a class="nav-link" href="/delete/{{ todo[0] }}" onclick="return confirm('Are you sure you want to delete this student record?')">
                        <button class="btn-sm btn-danger btn-block delete" id="delete">Delete  <i class="bi bi-trash"></i></button>
                        <button class="btn-sm btn-danger btn-block delete" id="bi-delete"> <i class="bi bi-trash"></i></button>
                      </a>

                    </td>
                </tr> 

            </tbody>
            {% else %}
            <tr>
                <td colspan="3" style="color: red;">This list has no todos record at the moment, please try again later.</td>
            </tr>
            {% endfor %} 
        </table>
            
            <!--<ul id="myUL">  
              <li class="checked list" id="checker">Complete online JavaScript course</li>
            </ul>-->
  
            <div class="options">
              <p>{{ total_todo }} items left</p>
              <p id="clear">Clear Completed</p>
            </div>
                 
        </div>       
          
        <div class="extras">

          <div class="extra">
            <h6>All</h6>
            <p>{{ total_todo }}</p>
          </div>

          <div class="extra">
            <h6>Active</h6>
            <p>{{ uncompleted_todo }}</p>
          </div>

          <div class="extra">
            <h6>Completed</h6>
            <p>{{ completed_todo }}</p>
          </div>
          
        </div>

    </aside>
    
  </section>
  
  
  <!--<script src="../static/script.js"></script> -->
{% endblock %}